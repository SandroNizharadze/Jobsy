{% extends 'core/base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Jobsy - სატარიფო პაკეტები" %}{% endblock %}

{% block extra_head %}
<style>
    /* Define critical CSS variables directly in the page head */
    :root {
        --jobsy-blue-rgb: 10, 35, 66;
        --jobsy-yellow-rgb: 255, 214, 0;
        --premium-plus-rgb: 111, 66, 193;
    }
</style>
{% include 'core/components/pricing/pricing_styles.html' %}
<!-- AOS Animation Library -->
<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
{% endblock %}

{% block content %}
<section class="pricing-section">
    <div class="container">
        <!-- Decorative elements -->
        <div class="decorative-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
            <div class="shape shape-4"></div>
        </div>
        
        <div class="pricing-header" data-aos="fade-up">
            <span class="badge bg-primary mb-3">{% trans "ჩვენი პაკეტები" %}</span>
            <h1 class="mb-3">{% trans "აირჩიეთ თქვენთვის შესაფერისი პაკეტი" %}</h1>
            <p class="lead text-muted">{% trans "ვაკანსიის გამოქვეყნება Jobsy-ზე არის მარტივი და ეფექტური გზა კარგი კანდიდატების მოსაზიდად" %}</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-4 mb-4 mb-lg-0" data-aos="fade-up" data-aos-delay="200">
                {% include 'core/components/pricing/package_standard.html' %}
            </div>
            
            <div class="col-lg-4 mb-4 mb-lg-0" data-aos="fade-up" data-aos-delay="300">
                {% include 'core/components/pricing/package_premium.html' %}
            </div>
            
            <div class="col-lg-4" data-aos="fade-up" data-aos-delay="400">
                {% include 'core/components/pricing/package_premium_plus.html' %}
            </div>
        </div>
        
        <!-- Features comparison -->
        {% include 'core/components/pricing/comparison_table.html' %}
        
        <!-- FAQ Section -->
        {% include 'core/components/pricing/faq.html' %}
        
        <!-- CTA Section -->
        {% include 'core/components/pricing/cta_section.html' %}
        
        {% include 'core/components/pricing/social_links.html' %}
    </div>
</section>

<!-- AOS Animation Library -->
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script>
    // Initialize AOS
    AOS.init({
        duration: 800,
        easing: 'ease-in-out',
        once: true
    });
    
    // Handle package selection based on user authentication
    document.addEventListener('DOMContentLoaded', function() {
        const packageButtons = document.querySelectorAll('.package-select-btn');
        
        packageButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                {% if not user.is_authenticated %}
                    e.preventDefault();
                    window.location.href = "{% url 'register' %}?user_type=employer";
                {% elif not user.userprofile.role == 'employer' %}
                    e.preventDefault();
                    alert("{% trans 'ვაკანსიის გამოსაქვეყნებლად საჭიროა იყოთ დარეგისტრირებული, როგორც დამსაქმებელი' %}");
                    window.location.href = "{% url 'register' %}?user_type=employer";
                {% endif %}
            });
        });
    });
</script>
{% endblock %} 